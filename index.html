<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chair Model Viewer</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>

</head>
<bod>
    <model-viewer id="chair"
        src="https://firebasestorage.googleapis.com/v0/b/polymuse-68692.appspot.com/o/models%2F20250205124059197%2FSheenChair.glb?alt=media&token=19402c2b-bb92-499e-83bf-d49c263bb09c"
        shadow-intensity="1" 
        ar 
        ar-modes="webxr" 
        ar-scale="fixed"
        camera-controls 
        touch-action="pan-y" 
        alt="A 3D model carousel">
        <select id="variant">
            <!-- Options will be populated dynamically -->
        </select>     
    </model-viewer>

    <script>
        const modelViewerVariants = document.querySelector("model-viewer#chair");
        const select = document.querySelector('#variant');

        modelViewerVariants.addEventListener('load', () => {
            const names = modelViewerVariants.availableVariants;
            for (const name of names) {
                const option = document.createElement('option');
                option.value = name;
                option.textContent = name;
                select.appendChild(option);
            }
            // Adds a default option.
            const option = document.createElement('option');
            option.value = 'default';
            option.textContent = 'Default';
            select.appendChild(option);
        });

        select.addEventListener('input', (event) => {
            modelViewerVariants.variantName = event.target.value === 'default' ? null : event.target.value;
        });
    </script>
    <style>
        model-viewer {
            background-color: #eee;
            overflow-x: hidden;
        }

        /* model-viewer>#variant {
            position: absolute; 
        } */
        model-viewer[ar-status="session-started"]>#ar-prompt {
            display: block;
        }
    </style>
    </body>

</html>